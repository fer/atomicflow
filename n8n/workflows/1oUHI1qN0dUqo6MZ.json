{"createdAt":"2025-05-12T20:23:01.586Z","updatedAt":"2025-05-12T20:45:35.376Z","id":"1oUHI1qN0dUqo6MZ","name":"My workflow backup credentials","active":false,"nodes":[{"parameters":{"rule":{"interval":[{"field":"hours","hoursInterval":12}]}},"name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[-200,-60],"id":"0a029dfa-acd4-41b3-8c06-6a313aa5a9e6"},{"parameters":{"command":"npx n8n export:credentials --all --decrypted > /var/tmp/credentials.json"},"name":"Export Credentials","type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[20,-60],"id":"1f8473de-176e-43f3-98b5-1159ef72c835"},{"parameters":{"command":"sops -e --age $(cat /home/fer/server/age.pub) /var/tmp/credentials.json > /var/tmp/credentials.enc && rm /var/tmp/credentials.json"},"name":"Encrypt with SOPS","type":"n8n-nodes-base.executeCommand","typeVersion":1,"position":[320,-60],"id":"ebdf3407-a086-4eaa-8afb-030c4da1b575"},{"parameters":{"filePath":"credentials.enc"},"name":"Read Encrypted File","type":"n8n-nodes-base.readBinaryFile","typeVersion":1,"position":[540,-60],"id":"ae934598-dc50-49f3-b9c8-77202375eef0"},{"parameters":{"resource":"file","operation":"edit","owner":"fer","repository":"atomicflow","filePath":"n8n/credentials.enc","binaryData":true,"commitMessage":"Encrypted credentials backup"},"name":"Push to GitHub","type":"n8n-nodes-base.github","typeVersion":1,"position":[760,-60],"id":"e343eb26-8f50-4835-b8df-704fe643405f","webhookId":"932dc2a3-baf2-4841-888f-52101f52e038","credentials":{"githubApi":{"id":"iGQWomWxVx4FvkiE","name":"GitHub account"}}}],"connections":{"Schedule Trigger":{"main":[[{"node":"Export Credentials","type":"main","index":0}]]},"Export Credentials":{"main":[[{"node":"Encrypt with SOPS","type":"main","index":0}]]},"Encrypt with SOPS":{"main":[[{"node":"Read Encrypted File","type":"main","index":0}]]},"Read Encrypted File":{"main":[[{"node":"Push to GitHub","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"0aef00f7-b0e6-4fe2-92ae-aa823cd512c9","triggerCount":0,"tags":[]}